# Установка
## Создание VM

1. Нажать *Создать*.
2. Выбрать образ системы 
3. Поставить галочку *пропустить автоматическую установку*. Нажать *Далее*
4. Выбрать 4096 оперативки и 50 гб диска

## Настройка виртуальной машины до запуска

1. Количество ядер 2+
2. Видео память 128 мб
3. Графический контроллер VMSVGA
4. Включить 3д ускорение
5. Во вкладке Общие - дополнительно - двунаправленный буфер обмена и перетаскивание
## Установка Ubuntu 

1. Запускаем виртуальую машину
2. Выбираем *Install Ubuntu* 
3. Выбираем язык и клавиатуру
4. Выбираем *Стереть диск и установить Ubuntu*
5. Указываем логин и пароль
6. Ждем установки
7. Система перезагрузится
8. Во время перезагрузи попросят *Remove the installation medium*. Жмем Enter

## Настройка 

1. Включаем двунаправленный буфер обмена и драг эн дроп
2. Подключаем образ дополнений гостевой ОС
	1. Устанавливаем `sudo apt install gcc make perl` 
	2. Открываем диск
	3. Правой кнопкой мыши по `autorun.sh` и запускаем как приложение
	4. Перезагружаем
3. Масштабируемость в меню Вид - Подгонять размер экрана гостевой ос

## Настройка виртуального принтера

1. Настройки
2. Принтеры
3. Добавить принтер
4. CUPS-BRF-Printer

## Настройка подключения по SSH

### 1. Настройка Ubuntu  в VirtualBox  

#### 1.1. Установите SSH-сервер  

Откройте терминал в Ubuntu и выполните:  

```bash

sudo apt install openssh-server -y
```

#### 1.2. Запустите SSH-сервер  

Установит автозапуск при перезагрузке ОС

```bash
sudo systemctl enable ssh
```

Запуск системы:

```bash
sudo systemctl start ssh
```

Проверьте статус:  

```bash
sudo systemctl status ssh
```

(Должен быть *active (running)*.)  

#### 1.3. Узнайте IP-адрес Ubuntu  

```bash
ip a
```

Или:

```bash
hostname -I
```

Запомните IP (например, `192.168.1.100`).  

#### 1.4. Разрешите SSH в брандмауэре (если включён)  

```bash
sudo ufw allow ssh
```

### 2. Настройка VirtualBox для SSH-доступа  

#### 2.1. Проверьте режим сети  

- **Рекомендуется:** Сетевой мост (Bridge) – тогда Ubuntu получит IP из вашей локальной сети.  

- **Альтернатива:** NAT + проброс портов (Port Forwarding).  

##### Если используется NAT:  

1. Выключите виртуальную машину.  

2. В VirtualBox:  

   - Выберите Ubuntu → **Настройки** → **Сеть**.  

   - В **Дополнительно** нажмите **Проброс портов**.  

   - Добавьте правило:  

     - **Имя:** SSH  
     - **Протокол:** TCP  
     - **IP хоста:** 127.0.0.1  
     - **Порт хоста:** 2222  
     - **Порт гостя:** 22  

3. Подключитесь с Windows через 127.0.0.1:2222.  

##### Если используется Сетевой мост (Bridge):  

- Ubuntu получит IP из вашей сети (например, `192.168.1.100`).  

- Подключайтесь с Windows напрямую по этому IP.  

### 3. Подключение с Windows 10  

#### 3.1. Используйте SSH-клиент  

##### Через PowerShell / CMD:  

```cmd
ssh username@ubuntu_ip
```

(Замените username на имя пользователя Ubuntu, а ubuntu_ip на её IP.)  

##### Через PuTTY (если предпочитаете GUI):  

1. Скачайте PuTTY.  

2. Введите IP Ubuntu и порт 22.  

3. Нажмите **Open** и введите логин/пароль.  

#### 3.2. Ввод пароля  

При первом подключении появится запрос пароля пользователя Ubuntu.  

### 4. Дополнительно  

- **Если подключение не работает:**  
	  - Проверьте, что SSH-сервер работает (`sudo systemctl status ssh`).  
	  - Убедитесь, что брандмауэр Ubuntu не блокирует SSH (`sudo ufw status`).  
	  - Проверьте IP Ubuntu (`ip a`).  

- **Для отключения пароля (по ключам):**  

  Сгенерируйте SSH-ключ на Windows (`ssh-keygen`), затем скопируйте его в Ubuntu:  

  ```bash
  ssh-copy-id username@ubuntu_ip
  ```

## Настройка общей папки в VirtualBox

### 1. Подготовка в VirtualBox

1. **Выключите** виртуальную машину (Ubuntu).

2. Откройте **Настройки VM** → **Общие папки**.

3. Нажмите **«+»** (Добавить папку):   
	- **Путь к папке**: Выберите папку на Windows (например, `C:\Shared`). 
	- **Имя папки**: Задайте имя (например, `shared`).   
	- **Тип доступа**:
		- *Только чтение* — если файлы можно только копировать из Windows в Ubuntu.     
		- *Полный доступ* — если нужно редактировать файлы с обеих сторон.
	- **Авто-подключение** — включите, чтобы папка монтировалась автоматически при запуске VM. 

### 2. Установка дополнений гостевой ОС (Guest Additions)

### 3. Подключение общей папки в Ubuntu

1. После перезагрузки общая папка должна автоматически смонтироваться в /media/sf_<имя_папки> (например, /media/sf_shared`).  

2. Добавьте пользователя в группу `vboxsf:
```bash
sudo usermod -aG vboxsf $USER
```

3. Перезагрузите VM.


# Применение средств защиты компьютерных систем

## Резервное копирование

### 1. Скачивание утилиты timeshift

```bash
sudo apt install timeshift
```

### 2. Настройка timeshift

1. При первом запуске откроется мастер установки
2. Выбираем тип снимков RSYNC
3. Оставляем выбранное место копирования
4. Оставляем интервал копирования 
5. Пользователи и фильтры также оставляем

### 3. Создание резервной копии вручную

При необходимости можно создать резервную копию сразу.

Необходимо нажать *Создать* в главном меню.

## Управление пользователями и группами
### Создание групп пользователей

```bash
sudo groupadd <имя_группы>
```

### Создание пользователей

1. Через *Настройки* -> *Пользователи*
2. Через команду

```bash
sudo adduser <имя_пользователя>
```

### Добавление пользователя в группу

```bash
sudo usermod -aG <имя_группы> <имя_пользователя>`
```
- `-a` означает "append"
- `-G` означает "groups"

**Проверка членства в группах:** `groups <имя_пользователя>` или `id <имя_пользователя>`

## Настройка прав доступа

### Основные понятия:

- **Владелец (User):** Пользователь, который владеет файлом/директорией.
- **Группа (Group):** Группа, которая владеет файлом/директорией.
- **Остальные (Others):** Все остальные пользователи в системе.
- **Права:**
	- `r` (read) - чтение
	- `w` (write) - запись
	- `x` (execute) - выполнение (для файлов), вход/переход (для директорий)

### Команды:
    
#### `chmod` (изменение прав):

- **Символьный режим:** `chmod [кто][оператор][права] <файл/директория>`
	- `u` (user), `g` (group), `o` (others), `a` (all)
	- `+` (добавить), `-` (удалить), `=` (установить точно)

```bash
chmod u+rwx,go-w my_script.sh # Владельцу rwx, группе и остальным запретить запись
chmod g+s /path/to/shared_folder # Установка SUID/SGID (для директории означает, что новые файлы будут иметь ту же группу, что и родительская директория)
```

- **Числовой (восьмеричный) режим:** `chmod <число> <файл/директория>`
	- `r=4`, `w=2`, `x=1`
	- Сумма для каждого набора (владелец, группа, остальные)

```bash
chmod 750 my_file.txt # Владелец: rwx (4+2+1=7), Группа: rx (4+1=5), Остальные: нет прав (0)
chmod 644 my_document.odt # Владелец: rw, Группа: r, Остальные: r
```

#### `chown` (изменение владельца):

- `sudo chown <новый_владелец>:<новая_группа> <файл/директория>`

```bash
sudo chown user1:developers /var/www/project
sudo chown -R user1:developers /var/www/project # Рекурсивно
```

#### `chgrp` (изменение группы): 

- `sudo chgrp <новая_группа> <файл/директория>`

```bash
sudo chgrp developers /var/www/project
```


## Журналы мониторинга

### Основные журналы, которые стоит знать:

- `/var/log/syslog` (или `/var/log/messages` в некоторых дистрибутивах): Общие системные сообщения, включая сообщения ядра, демонов и различных приложений.

- `/var/log/auth.log` (или `/var/log/secure`): Содержит информацию об аутентификации (успешные/неудачные попытки входа, использование `sudo`, SSH-соединения). Это ОЧЕНЬ важный журнал для мониторинга безопасности.

- `/var/log/kern.log`: Сообщения ядра.

- `/var/log/apt/history.log`: История установки/удаления пакетов через APT.

- `/var/log/dpkg.log`: Логи DPKG (низкоуровневого менеджера пакетов).
### Инструменты для просмотра журналов:

- `cat`, `less`, `more`, `tail -f` (для отслеживания в реальном времени)

- `grep` (для фильтрации по ключевым словам)

- `journalctl`: Современный инструмент для работы с системными журналами, управляемыми `systemd`. Это основной инструмент в Ubuntu.
	- **Примеры использования `journalctl`:**
		- `journalctl`: Показать все логи.
		- `journalctl -f`: Следить за логами в реальном времени.
		- `journalctl -u sshd`: Показать логи для службы SSH.
		- `journalctl -p err`: Показать только ошибки.
		- `journalctl --since "2023-01-01" --until "2023-01-02 03:00:00"`: Показать логи за определенный период.
		- `journalctl _COMM=sshd | grep "Failed password"`: Найти неудачные попытки входа SSH.

# Документирование программного обеспечения

## Документация пользователя

1. Введение 
	- Название
	- Краткое описание возможностей средства автоматизации

2. Подготовка к работе
	- запуск 
	- запланированный программой выход

3. Аварийные ситуации
	- Ошибки совместимости 
	- Следование инструкции по настройке

## Руководство по использованию программного обеспечения

1. Описание операций
	- Создать
	- Пару функций
	- Сохранить
	- Экспортировать

2. Рекомендации по освоению
	- Документация
	- Официальный туториал
